var __defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,n);!function(e){"use strict";const t={"pointer-coarse":"(pointer: coarse)","pointer-fine":"(pointer: fine)","hover-hover":"(hover: hover)","any-hover":"(any-hover: hover)","any-pointer-fine":"(any-pointer: fine)","any-pointer-coarse":"(any-pointer: coarse)","color-gamut-srgb":"(color-gamut: srgb)","color-gamut-p3":"(color-gamut: p3)","color-gamut-rec2020":"(color-gamut: rec2020)",hdr:"(dynamic-range: high)","forced-colors":"(forced-colors: active)",monochrome:"(monochrome)","inverted-colors":"(inverted-colors: inverted)","prefers-reduced-motion":"(prefers-reduced-motion: reduce)","prefers-contrast":"(prefers-contrast: more)","display-mode-standalone":"(display-mode: standalone)","resolution-2x":"(min-resolution: 2dppx)","resolution-3x":"(min-resolution: 3dppx)","orientation-portrait":"(orientation: portrait)","orientation-landscape":"(orientation: landscape)"},n=[["display","grid"],["display","flex"],["display","contents"],["position","sticky"],["backdrop-filter","blur(1px)"],["mask-image","none"],["clip-path","circle()"],["aspect-ratio","1"],["gap","1px"],["container-type","inline-size"],["color","oklch(50% 0.1 0)"],["color","color(display-p3 1 0 0)"],["accent-color","red"],["text-decoration-thickness","1px"],["overscroll-behavior","contain"],["scroll-behavior","smooth"],["scroll-snap-type","x mandatory"],["touch-action","manipulation"],["font-variation-settings",'"wght" 400'],["writing-mode","vertical-rl"],["mix-blend-mode","multiply"],["filter","blur(1px)"],["transform","rotate3d(1,1,1,45deg)"],["perspective","100px"],["will-change","transform"],["contain","layout"]],r=()=>{const e={};for(const[n,r]of Object.entries(t))e[n]=window.matchMedia(r).matches;return e},o=()=>{const e={};for(const[t,r]of n)e[`${t}_${r.replace(/[^a-zA-Z0-9]/g,"_")}`]=CSS.supports(t,r);return e},i=()=>{if("fonts"in document&&document.fonts)try{const e=["Arial","Helvetica","Times New Roman","Georgia","Verdana","Courier New","Trebuchet MS","Impact","Comic Sans MS","Segoe UI","Roboto","San Francisco","Ubuntu"],t=[];for(const n of e)document.fonts.check(`12px "${n}"`)&&t.push(n);return t.sort()}catch{}return[]},a=async()=>{try{return{mediaQueries:r(),cssProperties:o(),fonts:i()}}catch{return{}}},s=()=>{try{const e=document.createElement("canvas");e.width=256,e.height=256;const t=e.getContext("webgl2"),n=t??e.getContext("webgl")??e.getContext("experimental-webgl");if(!n)return null;const r=n.getExtension("WEBGL_debug_renderer_info"),o=n.getSupportedExtensions(),i=(e=>{const t={},n=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_TEXTURE_IMAGE_UNITS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VARYING_VECTORS","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_RENDERBUFFER_SIZE","MAX_VIEWPORT_DIMS","RED_BITS","GREEN_BITS","BLUE_BITS","ALPHA_BITS","DEPTH_BITS","STENCIL_BITS","ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","SUBPIXEL_BITS","MAX_ELEMENTS_VERTICES","MAX_ELEMENTS_INDICES"];for(const r of n){const n=e[r];if(void 0!==n){const o=e.getParameter(n);o instanceof Float32Array||o instanceof Int32Array?t[r]=[...o]:t[r]=o}}return t})(n);t&&(i.webgl2=(e=>{const t={},n=["MAX_3D_TEXTURE_SIZE","MAX_ARRAY_TEXTURE_LAYERS","MAX_COLOR_ATTACHMENTS","MAX_DRAW_BUFFERS","MAX_SAMPLES","MAX_UNIFORM_BUFFER_BINDINGS","MAX_UNIFORM_BLOCK_SIZE","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS"];for(const r of n){const n=e[r];if(void 0!==n)try{const o=e.getParameter(n);t[r]=o}catch{}}return t})(t));const a={},s=["VERTEX_SHADER","FRAGMENT_SHADER"],c=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"];for(const u of s)for(const e of c){const t=n.getShaderPrecisionFormat(n[u],n[e]);t&&(a[`${u}_${e}`]={rangeMin:t.rangeMin,rangeMax:t.rangeMax,precision:t.precision})}return i.precisionFormats=a,{vendor:r?n.getParameter(r.UNMASKED_VENDOR_WEBGL):null,renderer:r?n.getParameter(r.UNMASKED_RENDERER_WEBGL):null,version:n.getParameter(n.VERSION),shadingLanguageVersion:n.getParameter(n.SHADING_LANGUAGE_VERSION),extensions:o?[...o].sort():null,parameters:i}}catch{return null}},c=async()=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return null;const t=new e,n=t.createDynamicsCompressor(),r=t.sampleRate,o=t.destination.maxChannelCount,i=[n.threshold.defaultValue,n.knee.defaultValue,n.ratio.defaultValue,n.attack.defaultValue,n.release.defaultValue].join(",");await t.close();return{sampleRate:r,channelCount:o,state:"closed",sum:i,hash:u(`${r}|${o}|${i}`)}}catch{return null}},u=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return Math.abs(t).toString(16)},l=()=>{try{const e=window.screen,t=e.orientation;return{screen:{width:e.width,height:e.height,availWidth:e.availWidth,availHeight:e.availHeight,colorDepth:e.colorDepth,pixelRatio:window.devicePixelRatio||1,orientation:t?t.type:null},navigator:{hardwareConcurrency:navigator.hardwareConcurrency||null,deviceMemory:navigator.deviceMemory||null,maxTouchPoints:navigator.maxTouchPoints||0,platform:navigator.platform||"",language:navigator.language||""},timezone:{offset:(new Date).getTimezoneOffset(),name:Intl.DateTimeFormat().resolvedOptions().timeZone}}}catch{return null}},h=()=>{try{return{intl:d(),math:p(),navigator:m(),performance:_()}}catch{return null}},d=()=>{const e=Intl.DateTimeFormat().resolvedOptions(),t=Intl.NumberFormat().resolvedOptions();return{timezone:e.timeZone,locale:e.locale,calendar:e.calendar,numberingSystem:t.numberingSystem,hourCycle:e.hourCycle??null,collation:(new Intl.Collator).resolvedOptions().collation}},p=()=>({tan:Math.tan(-1e300),sin:Math.sin(Math.PI),cos:Math.cos(Math.PI/2),sinh:Math.sinh(1),cosh:Math.cosh(1),tanh:Math.tanh(1),exp:Math.exp(1),expm1:Math.expm1(1),log1p:Math.log1p(1),pow:Math.pow(Math.PI,-100),cbrt:Math.cbrt(100),log:Math.log(Math.E*Math.E),hypot:Math.hypot(1,2,3,4,5)}),m=()=>{const e=navigator,t=e.connection;return{hardwareConcurrency:e.hardwareConcurrency??null,deviceMemory:e.deviceMemory??null,maxTouchPoints:e.maxTouchPoints??0,platform:e.platform??"",vendor:e.vendor??"",language:e.language??"",languages:[...e.languages??[]],cookieEnabled:e.cookieEnabled,pdfViewerEnabled:e.pdfViewerEnabled??null,connection:t?{effectiveType:t.effectiveType??null,downlink:t.downlink??null,rtt:t.rtt??null,saveData:t.saveData??!1}:null}},_=()=>{const e=performance.memory;return{memory:e?{jsHeapSizeLimit:e.jsHeapSizeLimit}:null}},v=async()=>{if(!("mediaCapabilities"in navigator))return null;try{return{video:await E(),audio:await y()}}catch{return null}},E=async()=>{const e=[{name:"h264",type:'video/mp4; codecs="avc1.42E01E"'},{name:"h265",type:'video/mp4; codecs="hev1.1.6.L93.B0"'},{name:"vp8",type:'video/webm; codecs="vp8"'},{name:"vp9",type:'video/webm; codecs="vp9"'},{name:"av1",type:'video/mp4; codecs="av01.0.01M.08"'}],t={};for(const n of e)try{const e=await navigator.mediaCapabilities.decodingInfo({type:"file",video:{contentType:n.type,width:1920,height:1080,bitrate:2e6,framerate:30}});t[n.name]=e.supported}catch{t[n.name]=!1}return t},y=async()=>{const e=[{name:"aac",type:'audio/mp4; codecs="mp4a.40.2"'},{name:"mp3",type:"audio/mpeg"},{name:"opus",type:'audio/webm; codecs="opus"'},{name:"vorbis",type:'audio/webm; codecs="vorbis"'},{name:"flac",type:"audio/flac"}],t={};for(const n of e)try{const e=await navigator.mediaCapabilities.decodingInfo({type:"file",audio:{contentType:n.type,channels:"2",bitrate:128e3,samplerate:44100}});t[n.name]=e.supported}catch{t[n.name]=!1}return t},M=async()=>{if(!("speechSynthesis"in window))return null;try{const e=await S();return e.length?{voiceCount:e.length,voices:e.map(e=>({name:e.name,lang:e.lang,localService:e.localService,default:e.default})),languages:[...new Set(e.map(e=>e.lang))].sort()}:null}catch{return null}},S=()=>new Promise(e=>{const t=speechSynthesis.getVoices();if(t.length)return e(t);speechSynthesis.onvoiceschanged=()=>e(speechSynthesis.getVoices()),setTimeout(()=>e(speechSynthesis.getVoices()),100)}),g=()=>{try{const e=navigator;return{bluetooth:"bluetooth"in navigator,usb:"usb"in navigator,hid:"hid"in navigator,serial:"serial"in navigator,nfc:"nfc"in navigator,xr:"xr"in navigator,wakeLock:"wakeLock"in navigator,share:"share"in navigator,clipboard:"clipboard"in navigator,credentials:"credentials"in navigator,usbDeviceCount:e.usb?.getDevices?null:void 0,hidDeviceCount:e.hid?.getDevices?null:void 0}}catch{return null}},A=()=>{if(!("getGamepads"in navigator))return null;try{const e=navigator.getGamepads().filter(e=>null!==e);return e.length?{supported:!0,connected:e.length,gamepads:e.map(e=>({id:e.id,index:e.index,mapping:e.mapping,axes:e.axes.length,buttons:e.buttons.length,hapticActuators:e.hapticActuators?.length??0,vibrationActuator:!!e.vibrationActuator}))}:{supported:!0,connected:0,gamepads:[]}}catch{return null}},w=async()=>{if(!("requestMIDIAccess"in navigator))return{supported:!1,inputs:0,outputs:0,devices:[]};try{const e=await navigator.requestMIDIAccess({sysex:!1}),t=Array.from(e.inputs.values()),n=Array.from(e.outputs.values());return{supported:!0,inputs:t.length,outputs:n.length,devices:[...t,...n].map(e=>({id:e.id,name:e.name,manufacturer:e.manufacturer,type:e.type,state:e.state}))}}catch(e){return{supported:!0,inputs:0,outputs:0,devices:[]}}},f=()=>{try{const e=window;return{accelerometer:"Accelerometer"in e,gyroscope:"Gyroscope"in e,magnetometer:"Magnetometer"in e,absoluteOrientationSensor:"AbsoluteOrientationSensor"in e,relativeOrientationSensor:"RelativeOrientationSensor"in e,linearAccelerationSensor:"LinearAccelerationSensor"in e,gravitySensor:"GravitySensor"in e,ambientLightSensor:"AmbientLightSensor"in e,deviceMotion:"DeviceMotionEvent"in e,deviceOrientation:"DeviceOrientationEvent"in e,proximity:"ProximitySensor"in e||"ondeviceproximity"in e}}catch{return null}},T=async e=>{const t=JSON.stringify(e),n=(new TextEncoder).encode(t);try{const e=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")}catch{let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return Math.abs(e).toString(16)}};class I{constructor(){__publicField(this,"options",{css:!1,webgl:!1,audio:!1,hardware:!1,system:!1,media:!1,speech:!1,devices:!1,gamepad:!1,midi:!1,sensors:!1})}useCSS(){return this.options.css=!0,this}useWebGL(){return this.options.webgl=!0,this}useAudio(){return this.options.audio=!0,this}useHardware(){return this.options.hardware=!0,this}useSystem(){return this.options.system=!0,this}useMedia(){return this.options.media=!0,this}useSpeech(){return this.options.speech=!0,this}useDevices(){return this.options.devices=!0,this}useGamepad(){return this.options.gamepad=!0,this}useMIDI(){return this.options.midi=!0,this}useSensors(){return this.options.sensors=!0,this}useAll(){return this.options.css=!0,this.options.webgl=!0,this.options.audio=!0,this.options.hardware=!0,this.options.system=!0,this.options.media=!0,this.options.speech=!0,this.options.devices=!0,this.options.gamepad=!0,this.options.midi=!0,this.options.sensors=!0,this}usePrivateModeStable(){return this.options.css=!0,this.options.webgl=!0,this.options.audio=!0,this.options.media=!0,this.options.speech=!0,this}async collect(){const e={};this.options.webgl&&(e.webgl=s()),this.options.hardware&&(e.hardware=l()),this.options.system&&(e.system=h()),this.options.devices&&(e.devices=g()),this.options.gamepad&&(e.gamepad=A()),this.options.sensors&&(e.sensors=f()),this.options.css&&(e.css=await a()),this.options.audio&&(e.audio=await c()),this.options.media&&(e.media=await v()),this.options.speech&&(e.speech=await M()),this.options.midi&&(e.midi=await w());const t=await T(e);return{timestamp:(new Date).toISOString(),hash:t,data:e}}}const b={useCSS:()=>(new I).useCSS(),useWebGL:()=>(new I).useWebGL(),useAudio:()=>(new I).useAudio(),useMedia:()=>(new I).useMedia(),useSpeech:()=>(new I).useSpeech(),useHardware:()=>(new I).useHardware(),useSystem:()=>(new I).useSystem(),useDevices:()=>(new I).useDevices(),useGamepad:()=>(new I).useGamepad(),useMIDI:()=>(new I).useMIDI(),useSensors:()=>(new I).useSensors(),useAll:()=>(new I).useAll(),usePrivateModeStable:()=>(new I).usePrivateModeStable(),builder:()=>new I};e.Fingerprint=b,e.FingerprintBuilder=I,e.collectAudioFingerprint=c,e.collectCSSData=a,e.collectCSSProperties=o,e.collectDevicesData=g,e.collectGamepadData=A,e.collectHardwareData=l,e.collectMIDIData=w,e.collectMediaCapabilities=v,e.collectMediaQueries=r,e.collectSensorsData=f,e.collectSpeechData=M,e.collectSystemData=h,e.collectWebGLFingerprint=s,e.createBuilder=()=>new I,e.default=b,e.detectFonts=i,e.generateHash=T,Object.defineProperties(e,{t:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(this.Fingerprint=this.Fingerprint||{});
